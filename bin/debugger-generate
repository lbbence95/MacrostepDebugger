#!/usr/bin/env python

# Debugger breakpoint generation utility related commands.

import bpgen.breakpoint_generator as mstep_bpgenerator
import argparse, logging

#Logger setup
logger = logging.getLogger('debugger_generate')
logger.propagate = False
logger.setLevel(logging.INFO)

console_handler = logging.StreamHandler()
formatter = logging.Formatter('*** (%(asctime)s): %(message)s', "%Y-%m-%d %H:%M:%S")
console_handler.setFormatter(formatter)

logger.addHandler(console_handler)

#Options and suboptions
parser = argparse.ArgumentParser(description='Commands and options related to breakpoint generation.')
arg_group = parser.add_argument_group()

#Option: define application
arg_group.add_argument('-a', '--application', type=str, metavar='APPLICATION_NAME', nargs=1, required=True, help='an application name on which replaying is executed')

#Argparse
args = parser.parse_args()

if __name__ == "__main__":
    # Generate breakpoints
    if (args.application != None):
        mstep_bpgenerator.Generate_breakpoints(args.application[0])
